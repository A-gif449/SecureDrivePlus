<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecureDoc Storage</title>
    <style>
        :root {
            --primary: #4361ee;
            --primary-light: #4cc9f0;
            --secondary: #3f37c9;
            --accent: #4895ef;
            --light: #f8f9fa;
            --dark: #212529;
            --darker: #12141d;
            --success: #4cc9f0;
            --danger: #f72585;
            --warning: #f8961e;
            --gold: #ffd700;
            --silver: #c0c0c0;
            --bronze: #cd7f32;
            --text-light: #f8f9fa;
            --text-dark: #343a40;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--text-dark);
            line-height: 1.6;
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Auth Forms */
        .auth-container {
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            display: flex;
            max-width: 1000px;
            margin: 0 auto;
            transition: var(--transition);
        }
        
        .auth-left {
            flex: 1;
            padding: 50px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--text-light);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .auth-left::before {
            content: '';
            position: absolute;
            top: -50px;
            right: -50px;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .auth-left::after {
            content: '';
            position: absolute;
            bottom: -80px;
            left: -80px;
            width: 250px;
            height: 250px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .auth-left h2 {
            margin-bottom: 20px;
            font-size: 2.2rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }
        
        .auth-left p {
            margin-bottom: 30px;
            opacity: 0.9;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
            max-width: 80%;
        }
        
        .auth-features {
            text-align: left;
            margin-top: 30px;
            position: relative;
            z-index: 1;
        }
        
        .auth-feature {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }
        
        .auth-feature i {
            margin-right: 10px;
            color: var(--accent);
            font-size: 1.2rem;
        }
        
        .auth-right {
            flex: 1;
            padding: 50px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: white;
        }
        
        .auth-right h2 {
            color: var(--dark);
            margin-bottom: 25px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--dark);
            font-weight: 500;
            font-size: 0.95rem;
        }
        
        .form-control {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid #e1e5ee;
            border-radius: 10px;
            font-size: 16px;
            transition: var(--transition);
            background: #f8fafc;
        }
        
        .form-control:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.15);
            outline: none;
            background: white;
        }
        
        .password-strength {
            height: 4px;
            background: #e9ecef;
            border-radius: 2px;
            margin-top: 8px;
            overflow: hidden;
            position: relative;
        }
        
        .password-strength-bar {
            height: 100%;
            width: 0;
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        
        .btn {
            display: inline-block;
            padding: 14px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            width: 100%;
            box-shadow: 0 4px 10px rgba(67, 97, 238, 0.3);
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.4);
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 25px;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        .auth-switch a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .auth-switch a:hover {
            text-decoration: underline;
            color: var(--secondary);
        }
        
        /* Captcha */
        .captcha-container {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            background: #f8f9fa;
            padding: 12px;
            border-radius: 10px;
            border: 1px solid #e1e5ee;
        }
        
        .captcha-text {
            font-family: 'Courier New', monospace;
            font-size: 24px;
            letter-spacing: 3px;
            margin-right: 15px;
            background: white;
            padding: 8px 15px;
            border-radius: 8px;
            user-select: none;
            flex: 1;
            text-align: center;
            color: var(--dark);
            font-weight: bold;
            border: 1px solid #e1e5ee;
        }
        
        .captcha-refresh {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(67, 97, 238, 0.1);
        }
        
        .captcha-refresh:hover {
            transform: rotate(90deg);
            background: rgba(67, 97, 238, 0.2);
        }
        
        /* Dashboard */
        .dashboard {
            display: none;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            width: 100%;
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dashboard-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .user-info span {
            font-weight: 500;
            font-size: 0.95rem;
            background: rgba(255, 255, 255, 0.15);
            padding: 6px 12px;
            border-radius: 20px;
        }
        
        .logout-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .dashboard-content {
            padding: 40px;
        }
        
        .storage-info {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid #e1e5ee;
        }
        
        .storage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .storage-header h3 {
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .upgrade-btn {
            background: var(--gold);
            color: var(--darker);
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }
        
        .upgrade-btn:hover {
            background: #ffcc00;
            transform: translateY(-2px);
        }
        
        .storage-details {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }
        
        .storage-meter {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            position: relative;
        }
        
        .storage-progress {
            height: 100%;
            background: linear-gradient(to right, var(--primary-light), var(--primary));
            border-radius: 5px;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }
        
        .storage-progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                90deg,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.3) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .upload-area {
            border: 2px dashed #e1e5ee;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-bottom: 40px;
            cursor: pointer;
            transition: var(--transition);
            background: #f8fafc;
            position: relative;
            overflow: hidden;
        }
        
        .upload-area:hover {
            border-color: var(--accent);
            background: rgba(72, 149, 239, 0.05);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        }
        
        .upload-icon {
            font-size: 60px;
            color: var(--accent);
            margin-bottom: 20px;
            transition: var(--transition);
        }
        
        .upload-area:hover .upload-icon {
            transform: scale(1.1);
        }
        
        .upload-area h3 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .upload-area p {
            color: #6c757d;
            font-size: 0.95rem;
        }
        
        .file-input {
            display: none;
        }
        
        .documents-list {
            margin-top: 40px;
        }
        
        .documents-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .documents-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .sort-options {
            display: flex;
            gap: 10px;
        }
        
        .sort-btn {
            background: #f8f9fa;
            border: 1px solid #e1e5ee;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .sort-btn:hover, .sort-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .document-card {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px;
            border: 1px solid #e1e5ee;
            border-radius: 12px;
            margin-bottom: 15px;
            transition: var(--transition);
            background: white;
        }
        
        .document-card:hover {
            border-color: var(--accent);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transform: translateY(-3px);
        }
        
        .document-info {
            display: flex;
            align-items: center;
            flex: 1;
            min-width: 0;
        }
        
        .document-icon {
            margin-right: 20px;
            color: var(--primary);
            font-size: 32px;
            flex-shrink: 0;
        }
        
        .document-details {
            flex: 1;
            min-width: 0;
        }
        
        .document-details h4 {
            margin-bottom: 5px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .document-meta {
            display: flex;
            gap: 15px;
            font-size: 0.85rem;
            color: #6c757d;
        }
        
        .document-actions {
            display: flex;
            gap: 10px;
        }
        
        .document-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            font-size: 16px;
            color: var(--dark);
        }
        
        .document-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }
        
        /* Custom Alert */
        .custom-alert {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            border-left: 5px solid var(--primary);
            box-shadow: var(--shadow);
            padding: 18px 25px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            max-width: 400px;
            pointer-events: auto;
        }
        
        .custom-alert.show {
            transform: translateX(0);
        }
        
        .alert-icon {
            margin-right: 18px;
            font-size: 28px;
            flex-shrink: 0;
        }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-content h4 {
            margin-bottom: 5px;
            color: var(--dark);
            font-weight: 600;
        }
        
        .alert-content p {
            color: #6c757d;
            font-size: 0.95rem;
        }
        
        .alert-close {
            margin-left: 15px;
            cursor: pointer;
            color: #adb5bd;
            font-size: 20px;
            transition: var(--transition);
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        
        .alert-close:hover {
            color: var(--danger);
            background: rgba(247, 37, 133, 0.1);
        }
        
        /* Subscription Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .subscription-modal {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 1000px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 40px;
            transform: scale(0.9);
            opacity: 0;
            transition: var(--transition);
            position: relative;
        }
        
        .modal-overlay.active .subscription-modal {
            transform: scale(1);
            opacity: 1;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f8f9fa;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            color: #6c757d;
            transition: var(--transition);
        }
        
        .modal-close:hover {
            background: var(--danger);
            color: white;
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .modal-header h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        .modal-header p {
            color: #6c757d;
            max-width: 600px;
            margin: 0 auto;
            font-size: 1.1rem;
        }
        
        .plans-container {
            display: flex;
            gap: 25px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .plan-card {
            flex: 1;
            min-width: 280px;
            max-width: 320px;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
            border: 1px solid #e1e5ee;
            position: relative;
            overflow: hidden;
        }
        
        .plan-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        
        .plan-card.popular {
            border: 2px solid var(--gold);
        }
        
        .popular-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--gold);
            color: var(--darker);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .plan-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--dark);
        }
        
        .plan-price {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--dark);
        }
        
        .plan-price span {
            font-size: 1rem;
            font-weight: 400;
            color: #6c757d;
        }
        
        .plan-features {
            margin-bottom: 30px;
        }
        
        .plan-feature {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            font-size: 0.95rem;
        }
        
        .plan-feature i {
            margin-right: 10px;
            color: var(--primary);
        }
        
        .plan-btn {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid var(--primary);
        }
        
        .plan-btn.primary {
            background: var(--primary);
            color: white;
        }
        
        .plan-btn.primary:hover {
            background: var(--secondary);
            border-color: var(--secondary);
        }
        
        .plan-btn.secondary {
            background: white;
            color: var(--primary);
        }
        
        .plan-btn.secondary:hover {
            background: #f8f9fa;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .auth-container {
                flex-direction: column;
            }
            
            .auth-left, .auth-right {
                padding: 40px;
            }
            
            .plans-container {
                flex-direction: column;
                align-items: center;
            }
            
            .plan-card {
                max-width: 100%;
            }
        }
        
        @media (max-width: 768px) {
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .user-info {
                width: 100%;
                justify-content: space-between;
                flex-wrap: wrap;
            }
            
            .document-info {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .document-icon {
                margin-bottom: 10px;
                margin-right: 0;
            }
            
            .document-meta {
                flex-direction: column;
                gap: 5px;
            }
            
            .document-actions {
                margin-top: 15px;
                width: 100%;
                justify-content: flex-end;
            }
        }
        
        @media (max-width: 576px) {
            .auth-left, .auth-right {
                padding: 30px 20px;
            }
            
            .dashboard-content {
                padding: 30px 20px;
            }
            
            .subscription-modal {
                padding: 30px 20px;
            }
            
            .upload-area {
                padding: 30px 20px;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* Icons */
        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }
    </style>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Authentication Container -->
        <div class="auth-container" id="authContainer">
            <div class="auth-left">
                <h2>SecureDoc Storage</h2>
                <p>Your secure cloud storage solution with military-grade encryption and premium storage plans.</p>
                <div style="font-size: 4rem; margin: 20px 0;">üîí</div>
                
                <div class="auth-features">
                    <div class="auth-feature">
                        <i class="material-icons">lock</i>
                        <span>End-to-end encryption</span>
                    </div>
                    <div class="auth-feature">
                        <i class="material-icons">cloud</i>
                        <span>Access files from anywhere</span>
                    </div>
                    <div class="auth-feature">
                        <i class="material-icons">devices</i>
                        <span>Sync across all devices</span>
                    </div>
                    <div class="auth-feature">
                        <i class="material-icons">security</i>
                        <span>Zero-knowledge privacy</span>
                    </div>
                </div>
            </div>
            <div class="auth-right">
                <!-- Sign Up Form -->
                <div id="signupForm">
                    <h2>Create Account</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="regName">Full Name</label>
                            <input type="text" id="regName" class="form-control" required placeholder="John Doe">
                        </div>
                        <div class="form-group">
                            <label for="regEmail">Email Address</label>
                            <input type="email" id="regEmail" class="form-control" required placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label for="regPassword">Password</label>
                            <input type="password" id="regPassword" class="form-control" required minlength="8" placeholder="At least 8 characters">
                            <div class="password-strength">
                                <div class="password-strength-bar" id="passwordStrength"></div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="regConfirmPassword">Confirm Password</label>
                            <input type="password" id="regConfirmPassword" class="form-control" required placeholder="Confirm your password">
                        </div>
                        <div class="form-group">
                            <div class="captcha-container">
                                <div class="captcha-text" id="captchaText"></div>
                                <button type="button" class="captcha-refresh" id="refreshCaptcha">
                                    <i class="material-icons">refresh</i>
                                </button>
                            </div>
                            <input type="text" id="regCaptcha" class="form-control" placeholder="Enter CAPTCHA" required>
                        </div>
                        <button type="submit" class="btn">
                            <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">person_add</i>
                            Sign Up
                        </button>
                    </form>
                    <div class="auth-switch">
                        Already have an account? <a href="#" id="showLogin">Login</a>
                    </div>
                </div>
                
                <!-- Login Form -->
                <div id="loginForm" style="display: none;">
                    <h2>Welcome Back</h2>
                    <form id="loginFormElement">
                        <div class="form-group">
                            <label for="loginEmail">Email Address</label>
                            <input type="email" id="loginEmail" class="form-control" required placeholder="your@email.com">
                        </div>
                        <div class="form-group">
                            <label for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" class="form-control" required placeholder="Your password">
                        </div>
                        <div class="form-group">
                            <div class="captcha-container">
                                <div class="captcha-text" id="loginCaptchaText"></div>
                                <button type="button" class="captcha-refresh" id="refreshLoginCaptcha">
                                    <i class="material-icons">refresh</i>
                                </button>
                            </div>
                            <input type="text" id="loginCaptcha" class="form-control" placeholder="Enter CAPTCHA" required>
                        </div>
                        <button type="submit" class="btn">
                            <i class="material-icons" style="vertical-align: middle; margin-right: 8px;">login</i>
                            Login
                        </button>
                    </form>
                    <div class="auth-switch">
                        Don't have an account? <a href="#" id="showSignup">Sign Up</a>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <div class="dashboard-header">
                <h2>SecureDoc Storage</h2>
                <div class="user-info">
                    <span id="userEmailDisplay"></span>
                    <span id="userIdDisplay"></span>
                    <span id="userPlanDisplay"></span>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="material-icons" style="font-size: 18px;">logout</i>
                        Logout
                    </button>
                </div>
            </div>
            <div class="dashboard-content">
                <div class="storage-info">
                    <div class="storage-header">
                        <h3>Storage Usage</h3>
                        <button class="upgrade-btn" id="upgradeBtn">
                            <i class="material-icons" style="font-size: 18px;">stars</i>
                            Upgrade Plan
                        </button>
                    </div>
                    <div class="storage-details">
                        <span>Used: <strong id="usedStorage">0 GB</strong></span>
                        <span>Total: <strong id="totalStorage">30 GB</strong></span>
                    </div>
                    <div class="storage-meter">
                        <div class="storage-progress" id="storageProgress" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">üìÅ</div>
                    <h3>Drag & Drop your files here</h3>
                    <p>or click to browse files</p>
                    <input type="file" id="fileInput" class="file-input" multiple>
                </div>
                
                <div class="documents-list">
                    <div class="documents-header">
                        <h3>Your Documents</h3>
                        <div class="sort-options">
                            <button class="sort-btn active">Recent</button>
                            <button class="sort-btn">Name</button>
                            <button class="sort-btn">Size</button>
                        </div>
                    </div>
                    <div id="documentsContainer">
                        <!-- Documents will be listed here -->
                        <p style="text-align: center; color: #6c757d; margin-top: 30px;">No documents found. Upload some files to get started!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Custom Alert -->
    <div class="custom-alert" id="customAlert">
        <div class="alert-icon" id="alertIcon">
            <i class="material-icons">info</i>
        </div>
        <div class="alert-content">
            <h4 id="alertTitle">Alert Title</h4>
            <p id="alertMessage">This is an alert message.</p>
        </div>
        <div class="alert-close" id="alertClose">
            <i class="material-icons">close</i>
        </div>
    </div>
    
    <!-- Subscription Modal -->
    <div class="modal-overlay" id="subscriptionModal">
        <div class="subscription-modal">
            <button class="modal-close" id="modalClose">
                <i class="material-icons">close</i>
            </button>
            <div class="modal-header">
                <h2>Choose Your Plan</h2>
                <p>Select the plan that fits your needs. Upgrade or downgrade anytime.</p>
            </div>
            <div class="plans-container">
                <div class="plan-card">
                    <div class="plan-name">Free</div>
                    <div class="plan-price">$0 <span>/ month</span></div>
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>30GB Storage</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>Basic Encryption</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>5MB File Size Limit</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>2 Device Sync</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">remove_circle</i>
                            <span>No Priority Support</span>
                        </div>
                    </div>
                    <button class="plan-btn secondary" data-plan="free">
                        Current Plan
                    </button>
                </div>
                
                <div class="plan-card popular">
                    <div class="popular-badge">POPULAR</div>
                    <div class="plan-name">Basic</div>
                    <div class="plan-price">$4.99 <span>/ month</span></div>
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>200GB Storage</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>Advanced Encryption</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>100MB File Size Limit</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>5 Device Sync</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>Email Support</span>
                        </div>
                    </div>
                    <button class="plan-btn primary" data-plan="basic">
                        Upgrade to Basic
                    </button>
                </div>
                
                <div class="plan-card">
                    <div class="plan-name">Pro</div>
                    <div class="plan-price">$9.99 <span>/ month</span></div>
                    <div class="plan-features">
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>2TB Storage</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>Military-grade Encryption</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>1GB File Size Limit</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>Unlimited Device Sync</span>
                        </div>
                        <div class="plan-feature">
                            <i class="material-icons">check_circle</i>
                            <span>24/7 Priority Support</span>
                        </div>
                    </div>
                    <button class="plan-btn primary" data-plan="pro">
                        Upgrade to Pro
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // DOM Elements
        const authContainer = document.getElementById('authContainer');
        const dashboard = document.getElementById('dashboard');
        const signupForm = document.getElementById('signupForm');
        const loginForm = document.getElementById('loginForm');
        const showLogin = document.getElementById('showLogin');
        const showSignup = document.getElementById('showSignup');
        const registerForm = document.getElementById('registerForm');
        const loginFormElement = document.getElementById('loginFormElement');
        const captchaText = document.getElementById('captchaText');
        const loginCaptchaText = document.getElementById('loginCaptchaText');
        const refreshCaptcha = document.getElementById('refreshCaptcha');
        const refreshLoginCaptcha = document.getElementById('refreshLoginCaptcha');
        const customAlert = document.getElementById('customAlert');
        const alertClose = document.getElementById('alertClose');
        const userEmailDisplay = document.getElementById('userEmailDisplay');
        const userIdDisplay = document.getElementById('userIdDisplay');
        const userPlanDisplay = document.getElementById('userPlanDisplay');
        const logoutBtn = document.getElementById('logoutBtn');
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const documentsContainer = document.getElementById('documentsContainer');
        const usedStorage = document.getElementById('usedStorage');
        const totalStorage = document.getElementById('totalStorage');
        const storageProgress = document.getElementById('storageProgress');
        const subscriptionModal = document.getElementById('subscriptionModal');
        const modalClose = document.getElementById('modalClose');
        const upgradeBtn = document.getElementById('upgradeBtn');
        const passwordStrength = document.getElementById('passwordStrength');
        const regPassword = document.getElementById('regPassword');
        
        // App State
        let users = JSON.parse(localStorage.getItem('secureDocUsers')) || [];
        let currentUser = null;
        let documents = JSON.parse(localStorage.getItem('secureDocDocuments')) || [];
        let firstLogin = false;
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            generateCaptcha(captchaText);
            generateCaptcha(loginCaptchaText);
            
            // Check if user is already logged in
            const loggedInUser = localStorage.getItem('secureDocCurrentUser');
            if (loggedInUser) {
                currentUser = JSON.parse(loggedInUser);
                showDashboard();
            }
            
            // Password strength indicator
            regPassword.addEventListener('input', updatePasswordStrength);
        });
        
        // Event Listeners
        showLogin.addEventListener('click', (e) => {
            e.preventDefault();
            signupForm.style.display = 'none';
            loginForm.style.display = 'block';
            generateCaptcha(loginCaptchaText);
        });
        
        showSignup.addEventListener('click', (e) => {
            e.preventDefault();
            loginForm.style.display = 'none';
            signupForm.style.display = 'block';
            generateCaptcha(captchaText);
        });
        
        refreshCaptcha.addEventListener('click', () => {
            generateCaptcha(captchaText);
        });
        
        refreshLoginCaptcha.addEventListener('click', () => {
            generateCaptcha(loginCaptchaText);
        });
        
        registerForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const captchaInput = document.getElementById('regCaptcha').value;
            const captcha = captchaText.textContent;
            
            // Validate form
            if (password !== confirmPassword) {
                showAlert('Error', 'Passwords do not match', 'error');
                return;
            }
            
            if (captchaInput !== captcha) {
                showAlert('Error', 'Invalid CAPTCHA', 'error');
                generateCaptcha(captchaText);
                return;
            }
            
            // Check if user already exists
            if (users.some(user => user.email === email)) {
                showAlert('Error', 'User with this email already exists', 'error');
                return;
            }
            
            // Create new user
            const userId = generateUserId();
            const newUser = {
                id: userId,
                name,
                email,
                password: btoa(password), // Simple obfuscation (not secure for production)
                plan: 'free',
                storageLimit: 30, // 30GB free storage
                usedStorage: 0,
                subscriptionDate: new Date().toISOString(),
                firstLogin: true
            };
            
            users.push(newUser);
            localStorage.setItem('secureDocUsers', JSON.stringify(users));
            
            showAlert('Success', `Account created successfully! Your User ID is: ${userId}`, 'success');
            
            // Auto login
            currentUser = newUser;
            localStorage.setItem('secureDocCurrentUser', JSON.stringify(currentUser));
            firstLogin = true;
            showDashboard();
        });
        
        loginFormElement.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const captchaInput = document.getElementById('loginCaptcha').value;
            const captcha = loginCaptchaText.textContent;
            
            // Validate CAPTCHA
            if (captchaInput !== captcha) {
                showAlert('Error', 'Invalid CAPTCHA', 'error');
                generateCaptcha(loginCaptchaText);
                return;
            }
            
            // Find user
            const user = users.find(u => u.email === email);
            
            if (!user || btoa(password) !== user.password) {
                showAlert('Error', 'Invalid email or password', 'error');
                return;
            }
            
            // Login successful
            currentUser = user;
            localStorage.setItem('secureDocCurrentUser', JSON.stringify(currentUser));
            
            // Check if first login
            if (user.firstLogin) {
                firstLogin = true;
                user.firstLogin = false;
                // Update user data
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex] = user;
                    localStorage.setItem('secureDocUsers', JSON.stringify(users));
                }
            }
            
            showDashboard();
            showAlert('Welcome Back', `You're now logged in as ${user.email}`, 'success');
        });
        
        logoutBtn.addEventListener('click', () => {
            currentUser = null;
            localStorage.removeItem('secureDocCurrentUser');
            authContainer.style.display = 'flex';
            dashboard.style.display = 'none';
            showAlert('Logged Out', 'You have been successfully logged out', 'info');
        });
        
        alertClose.addEventListener('click', () => {
            customAlert.classList.remove('show');
        });
        
        uploadArea.addEventListener('click', () => {
            fileInput.click();
        });
        
        fileInput.addEventListener('change', handleFileUpload);
        
        // Drag and drop functionality
        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--accent)';
            uploadArea.style.backgroundColor = 'rgba(72, 149, 239, 0.1)';
        });
        
        uploadArea.addEventListener('dragleave', () => {
            uploadArea.style.borderColor = '#e1e5ee';
            uploadArea.style.backgroundColor = '#f8fafc';
        });
        
        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.style.borderColor = '#e1e5ee';
            uploadArea.style.backgroundColor = '#f8fafc';
            
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                handleFileUpload();
            }
        });
        
        // Subscription modal
        upgradeBtn.addEventListener('click', () => {
            subscriptionModal.classList.add('active');
        });
        
        modalClose.addEventListener('click', () => {
            subscriptionModal.classList.remove('active');
        });
        
        // Plan selection
        document.querySelectorAll('.plan-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const plan = this.getAttribute('data-plan');
                if (plan === currentUser.plan) return;
                
                // Update user plan
                currentUser.plan = plan;
                
                // Update storage based on plan
                switch(plan) {
                    case 'free':
                        currentUser.storageLimit = 30;
                        break;
                    case 'basic':
                        currentUser.storageLimit = 200;
                        break;
                    case 'pro':
                        currentUser.storageLimit = 2000; // 2TB
                        break;
                }
                
                // Update user data
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('secureDocUsers', JSON.stringify(users));
                    localStorage.setItem('secureDocCurrentUser', JSON.stringify(currentUser));
                }
                
                // Close modal and refresh UI
                subscriptionModal.classList.remove('active');
                showDashboard();
                showAlert('Plan Updated', `Your plan has been updated to ${plan.toUpperCase()}`, 'success');
            });
        });
        
        // Functions
        function generateCaptcha(element) {
            const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';
            let captcha = '';
            for (let i = 0; i < 6; i++) {
                captcha += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            element.textContent = captcha;
        }
        
        function generateUserId() {
            return 'UID-' + Math.random().toString(36).substr(2, 9).toUpperCase();
        }
        
        function showAlert(title, message, type) {
            const alertIcon = document.getElementById('alertIcon');
            const alertTitle = document.getElementById('alertTitle');
            const alertMessage = document.getElementById('alertMessage');
            
            alertTitle.textContent = title;
            alertMessage.textContent = message;
            
            // Set icon and color based on type
            switch(type) {
                case 'success':
                    alertIcon.innerHTML = '<i class="material-icons">check_circle</i>';
                    customAlert.style.borderLeftColor = 'var(--success)';
                    alertIcon.style.color = 'var(--success)';
                    break;
                case 'error':
                    alertIcon.innerHTML = '<i class="material-icons">error</i>';
                    customAlert.style.borderLeftColor = 'var(--danger)';
                    alertIcon.style.color = 'var(--danger)';
                    break;
                case 'warning':
                    alertIcon.innerHTML = '<i class="material-icons">warning</i>';
                    customAlert.style.borderLeftColor = 'var(--warning)';
                    alertIcon.style.color = 'var(--warning)';
                    break;
                default:
                    alertIcon.innerHTML = '<i class="material-icons">info</i>';
                    customAlert.style.borderLeftColor = 'var(--accent)';
                    alertIcon.style.color = 'var(--accent)';
            }
            
            customAlert.classList.add('show');
            
            // Auto hide after 5 seconds
            setTimeout(() => {
                customAlert.classList.remove('show');
            }, 5000);
        }
        
        function showDashboard() {
            authContainer.style.display = 'none';
            dashboard.style.display = 'block';
            
            // Display user info
            userEmailDisplay.textContent = currentUser.email;
            userIdDisplay.textContent = `ID: ${currentUser.id}`;
            userPlanDisplay.textContent = `Plan: ${currentUser.plan.toUpperCase()}`;
            
            // Display storage info
            totalStorage.textContent = `${currentUser.storageLimit} GB`;
            const usedGB = (currentUser.usedStorage / (1024 * 1024 * 1024)).toFixed(2);
            usedStorage.textContent = `${usedGB} GB`;
            const percentage = (currentUser.usedStorage / (currentUser.storageLimit * 1024 * 1024 * 1024)) * 100;
            storageProgress.style.width = `${percentage}%`;
            
            // Load user documents
            loadDocuments();
            
            // Show subscription modal on first login
            if (firstLogin) {
                setTimeout(() => {
                    subscriptionModal.classList.add('active');
                    firstLogin = false;
                }, 1000);
            }
        }
        
        function loadDocuments() {
            const userDocs = documents.filter(doc => doc.userId === currentUser.id);
            documentsContainer.innerHTML = '';
            
            if (userDocs.length === 0) {
                documentsContainer.innerHTML = '<p style="text-align: center; color: #6c757d; margin-top: 30px;">No documents found. Upload some files to get started!</p>';
                return;
            }
            
            userDocs.forEach(doc => {
                const docElement = document.createElement('div');
                docElement.className = 'document-card fade-in';
                
                // Get file icon based on type
                const fileIcon = getFileIcon(doc.type);
                
                docElement.innerHTML = `
                    <div class="document-info">
                        <div class="document-icon">${fileIcon}</div>
                        <div class="document-details">
                            <h4>${doc.name}</h4>
                            <div class="document-meta">
                                <span>${formatFileSize(doc.size)}</span>
                                <span>${new Date(doc.uploadDate).toLocaleDateString()}</span>
                            </div>
                        </div>
                    </div>
                    <div class="document-actions">
                        <button class="document-btn" title="Download" onclick="downloadDocument('${doc.id}')">
                            <i class="material-icons">download</i>
                        </button>
                        <button class="document-btn" title="Delete" onclick="deleteDocument('${doc.id}')">
                            <i class="material-icons">delete</i>
                        </button>
                    </div>
                `;
                
                documentsContainer.appendChild(docElement);
            });
        }
        
        function getFileIcon(type) {
            const typeMap = {
                'pdf': 'üìï',
                'doc': 'üìò',
                'docx': 'üìò',
                'xls': 'üìä',
                'xlsx': 'üìä',
                'ppt': 'üìë',
                'pptx': 'üìë',
                'txt': 'üìÑ',
                'jpg': 'üñºÔ∏è',
                'jpeg': 'üñºÔ∏è',
                'png': 'üñºÔ∏è',
                'gif': 'üñºÔ∏è',
                'zip': 'üóúÔ∏è',
                'rar': 'üóúÔ∏è',
                'mp3': 'üéµ',
                'mp4': 'üé¨'
            };
            
            const extension = type.split('/').pop();
            return typeMap[extension] || 'üìÅ';
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function handleFileUpload() {
            const files = fileInput.files;
            if (!files || files.length === 0) return;
            
            let totalSize = 0;
            for (let i = 0; i < files.length; i++) {
                totalSize += files[i].size;
            }
            
            // Check storage limit
            const remainingSpace = (currentUser.storageLimit * 1024 * 1024 * 1024) - currentUser.usedStorage;
            if (totalSize > remainingSpace) {
                showAlert('Storage Limit', 'Not enough storage space available', 'error');
                return;
            }
            
            // Check file size limit based on plan
            const maxFileSize = currentUser.plan === 'free' ? 5 * 1024 * 1024 : // 5MB
                              currentUser.plan === 'basic' ? 100 * 1024 * 1024 : // 100MB
                              1024 * 1024 * 1024; // 1GB for Pro
            
            for (let i = 0; i < files.length; i++) {
                if (files[i].size > maxFileSize) {
                    showAlert('File Size Limit', `File "${files[i].name}" exceeds your plan's maximum file size limit`, 'error');
                    return;
                }
            }
            
            // Process files
            for (let i = 0; i < files.length; i++) {
                const file = files[i];
                
                // In a real app, you would upload to a server here
                // For this demo, we'll just store file metadata
                const newDoc = {
                    id: 'doc-' + Math.random().toString(36).substr(2, 9),
                    userId: currentUser.id,
                    name: file.name,
                    type: file.type,
                    size: file.size,
                    uploadDate: new Date().toISOString(),
                    // In a real app, you would store the file content or a reference to it
                    content: 'Simulated file content for ' + file.name
                };
                
                documents.push(newDoc);
                currentUser.usedStorage += file.size;
            }
            
            // Update storage
            localStorage.setItem('secureDocDocuments', JSON.stringify(documents));
            
            // Update user data
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('secureDocUsers', JSON.stringify(users));
                localStorage.setItem('secureDocCurrentUser', JSON.stringify(currentUser));
            }
            
            // Refresh UI
            showDashboard();
            showAlert('Upload Complete', `${files.length} file(s) uploaded successfully`, 'success');
            
            // Reset file input
            fileInput.value = '';
        }
        
        function downloadDocument(docId) {
            const doc = documents.find(d => d.id === docId);
            if (!doc) return;
            
            // In a real app, this would download the actual file from server
            // For this demo, we'll just show an alert
            showAlert('Download', `Downloading "${doc.name}" (simulated)`, 'info');
        }
        
        function deleteDocument(docId) {
            const docIndex = documents.findIndex(d => d.id === docId);
            if (docIndex === -1) return;
            
            // Reduce used storage
            currentUser.usedStorage -= documents[docIndex].size;
            
            // Remove document
            documents.splice(docIndex, 1);
            
            // Update storage
            localStorage.setItem('secureDocDocuments', JSON.stringify(documents));
            
            // Update user data
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('secureDocUsers', JSON.stringify(users));
                localStorage.setItem('secureDocCurrentUser', JSON.stringify(currentUser));
            }
            
            // Refresh UI
            showDashboard();
            showAlert('Deleted', 'Document has been deleted', 'success');
        }
        
        function updatePasswordStrength() {
            const password = regPassword.value;
            let strength = 0;
            
            // Length check
            if (password.length >= 8) strength += 1;
            if (password.length >= 12) strength += 1;
            
            // Character variety checks
            if (/[A-Z]/.test(password)) strength += 1;
            if (/[0-9]/.test(password)) strength += 1;
            if (/[^A-Za-z0-9]/.test(password)) strength += 1;
            
            // Update visual indicator
            let width = 0;
            let color = '#f72585'; // Red
            
            if (strength <= 2) {
                width = 33;
                color = '#f72585'; // Red
            } else if (strength <= 4) {
                width = 66;
                color = '#f8961e'; // Orange
            } else {
                width = 100;
                color = '#4cc9f0'; // Green
            }
            
            passwordStrength.style.width = `${width}%`;
            passwordStrength.style.backgroundColor = color;
        }
        
        // Expose functions to global scope for HTML onclick attributes
        window.downloadDocument = downloadDocument;
        window.deleteDocument = deleteDocument;
    </script>
</body>
</html>
